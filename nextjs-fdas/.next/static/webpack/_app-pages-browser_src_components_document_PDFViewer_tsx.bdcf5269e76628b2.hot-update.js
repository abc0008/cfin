"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_src_components_document_PDFViewer_tsx",{

/***/ "(app-pages-browser)/./src/components/document/PDFViewer.tsx":
/*!***********************************************!*\
  !*** ./src/components/document/PDFViewer.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFViewer: function() { return /* binding */ PDFViewer; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_AlertCircle_File_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,File,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_File_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,File,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_File_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,File,Loader2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/file.js\");\n/* harmony import */ var react_pdf_highlighter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-pdf-highlighter */ \"(app-pages-browser)/./node_modules/react-pdf-highlighter/dist/esm/index.js\");\n/* harmony import */ var _lib_api_documents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api/documents */ \"(app-pages-browser)/./src/lib/api/documents.ts\");\n/* harmony import */ var _lib_pdf_citationService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/pdf/citationService */ \"(app-pages-browser)/./src/lib/pdf/citationService.ts\");\n/* __next_internal_client_entry_do_not_use__ PDFViewer auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction PDFViewer(param) {\n    let { document, isLoading, error, onCitationCreate, onCitationClick, aiHighlights = [], onCitationsLoaded, pdfUrl: propsPdfUrl, highlightId, renderingQuality = \"medium\", pageBufferSize = 5 } = param;\n    _s();\n    var _s1 = $RefreshSig$();\n    const [currentPage, setCurrentPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [userHighlights, setUserHighlights] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [pdfUrl, setPdfUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(propsPdfUrl || null);\n    const [errorState, setErrorState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(error || null);\n    const [loadingState, setLoadingState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [documentCitations, setDocumentCitations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [totalPages, setTotalPages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [visiblePages, setVisiblePages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loadedPages, setLoadedPages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [renderScale, setRenderScale] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(renderingQuality === \"low\" ? 1.0 : renderingQuality === \"medium\" ? 1.5 : 2.0);\n    const [isBrowser, setIsBrowser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const scrollViewerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cleanupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(()=>{});\n    // Convert citations to highlights format\n    const citationHighlights = documentCitations.map(_lib_pdf_citationService__WEBPACK_IMPORTED_MODULE_4__.convertCitationToHighlight);\n    // Combine AI-generated highlights with user highlights and citation highlights\n    const allHighlights = [\n        ...userHighlights,\n        ...aiHighlights,\n        ...citationHighlights\n    ];\n    // Memory management: Page visibility tracking\n    const onVisiblePagesChanged = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((pages)=>{\n        setVisiblePages(pages);\n        // Only keep a buffer of pages in memory\n        const pagesToKeep = new Set();\n        // Add currently visible pages\n        pages.forEach((page)=>pagesToKeep.add(page));\n        // Add buffer pages (before and after visible pages)\n        const halfBuffer = Math.floor(pageBufferSize / 2);\n        pages.forEach((page)=>{\n            for(let i = 1; i <= halfBuffer; i++){\n                if (page - i > 0) pagesToKeep.add(page - i);\n                if (page + i <= totalPages) pagesToKeep.add(page + i);\n            }\n        });\n        // Update loaded pages state\n        setLoadedPages(pagesToKeep);\n    }, [\n        pageBufferSize,\n        totalPages\n    ]);\n    // Handle PDF document loading completion\n    const handleDocumentLoadSuccess = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((pdfDocument)=>{\n        setTotalPages(pdfDocument.numPages);\n        // Store cleanup function\n        cleanupRef.current = ()=>{\n            // Attempt to clean up PDF.js worker\n            if (pdfDocument && typeof pdfDocument.cleanup === \"function\") {\n                pdfDocument.cleanup();\n            }\n            // Clear page caches and destroy document\n            if (pdfDocument && typeof pdfDocument.destroy === \"function\") {\n                pdfDocument.destroy();\n            }\n            // Additional cleanup for any WebWorkers\n            if (window.pdfjsLib && window.pdfjsLib.GlobalWorkerOptions) {\n                // Force garbage collection on workers\n                console.log(\"PDF.js workers scheduled for cleanup\");\n            }\n        };\n    }, []);\n    // Define scrollToHighlight callback - IMPORTANT: must be defined before useEffect that uses it\n    const scrollToHighlight = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((highlightId)=>{\n        const highlight = allHighlights.find((h)=>h.id === highlightId);\n        if (highlight && scrollViewerRef.current) {\n            // Set current page to the highlight's page\n            setCurrentPage(highlight.position.pageNumber);\n            // Add a visual indicator by adding a temporary \"focus\" highlight\n            const existingIndex = userHighlights.findIndex((h)=>h.id === highlightId + \"-focus\");\n            if (existingIndex >= 0) {\n                // Remove the previous focus highlight\n                const updatedHighlights = [\n                    ...userHighlights\n                ];\n                updatedHighlights.splice(existingIndex, 1);\n                setUserHighlights(updatedHighlights);\n            }\n            // Add a new focus highlight (larger than the original highlight)\n            const focusHighlight = {\n                ...highlight,\n                id: highlightId + \"-focus\",\n                comment: {\n                    text: \"Focus highlight\",\n                    emoji: \"\\uD83D\\uDD0D\"\n                },\n                position: {\n                    ...highlight.position,\n                    rects: highlight.position.rects.map((rect)=>({\n                            ...rect,\n                            x1: rect.x1 - 5,\n                            y1: rect.y1 - 5,\n                            x2: rect.x2 + 5,\n                            y2: rect.y2 + 5,\n                            width: rect.width + 10,\n                            height: rect.height + 10\n                        }))\n                }\n            };\n            setUserHighlights((prev)=>[\n                    ...prev,\n                    focusHighlight\n                ]);\n            // Remove the focus highlight after a few seconds\n            setTimeout(()=>{\n                setUserHighlights((prev)=>prev.filter((h)=>h.id !== highlightId + \"-focus\"));\n            }, 3000);\n            // Try to scroll to the highlight using PdfHighlighter's method\n            if (scrollViewerRef.current) {\n                scrollViewerRef.current(highlight);\n            }\n            return true;\n        }\n        return false;\n    }, [\n        allHighlights,\n        userHighlights\n    ]);\n    // Handler for adding highlights\n    const addHighlight = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((highlight)=>{\n        setUserHighlights((prev)=>[\n                ...prev,\n                highlight\n            ]);\n        // If onCitationCreate callback exists, create a citation object\n        if (onCitationCreate && document) {\n            const citation = (0,_lib_pdf_citationService__WEBPACK_IMPORTED_MODULE_4__.convertHighlightToCitation)(highlight, document.metadata.id);\n            onCitationCreate(citation);\n        }\n    }, [\n        document,\n        onCitationCreate\n    ]);\n    // Handler for highlight click\n    const handleHighlightClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((highlight)=>{\n        if (onCitationClick) {\n            // Find the corresponding citation if it exists\n            const citation = documentCitations.find((c)=>c.highlightId === highlight.id);\n            if (citation) {\n                onCitationClick(citation);\n            } else {\n                onCitationClick(highlight);\n            }\n        }\n    }, [\n        documentCitations,\n        onCitationClick\n    ]);\n    // Set isBrowser to true once component mounts - always declare hooks in the same order\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsBrowser(true);\n    }, []);\n    // Get document URL from props or fetch it when document changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isBrowser) return;\n        if (propsPdfUrl) {\n            setPdfUrl(propsPdfUrl);\n            setErrorState(null);\n        } else if (document) {\n            const fetchDocumentUrl = async ()=>{\n                setLoadingState(\"Retrieving document URL...\");\n                try {\n                    const url = await _lib_api_documents__WEBPACK_IMPORTED_MODULE_3__.documentsApi.getDocumentUrl(document.metadata.id);\n                    setPdfUrl(url);\n                    setErrorState(null);\n                    setLoadingState(null);\n                } catch (error) {\n                    console.error(\"Error fetching document URL:\", error);\n                    setErrorState(\"Failed to retrieve document URL. Please try again later.\");\n                    setLoadingState(null);\n                }\n            };\n            fetchDocumentUrl();\n        } else {\n            setPdfUrl(null);\n        }\n    }, [\n        document,\n        propsPdfUrl,\n        isBrowser\n    ]);\n    // Fetch citations when document changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isBrowser || !document) return;\n        const fetchCitations = async ()=>{\n            try {\n                setLoadingState(\"Loading document citations...\");\n                const citations = await _lib_api_documents__WEBPACK_IMPORTED_MODULE_3__.documentsApi.getDocumentCitations(document.metadata.id);\n                setDocumentCitations(citations);\n                // Convert citations to highlights and notify parent\n                const highlightsFromCitations = citations.map(_lib_pdf_citationService__WEBPACK_IMPORTED_MODULE_4__.convertCitationToHighlight);\n                if (onCitationsLoaded) {\n                    onCitationsLoaded(highlightsFromCitations);\n                }\n                setLoadingState(null);\n            } catch (error) {\n                console.error(\"Error fetching document citations:\", error);\n                // Don't set error state here as we still want to show the document even if citations fail\n                setLoadingState(null);\n            }\n        };\n        fetchCitations();\n    }, [\n        document,\n        onCitationsLoaded,\n        isBrowser\n    ]);\n    // Scroll to highlight when highlightId changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isBrowser || !highlightId) return;\n        scrollToHighlight(highlightId);\n    }, [\n        highlightId,\n        isBrowser,\n        scrollToHighlight\n    ]);\n    // Update render scale when renderingQuality changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isBrowser) return;\n        setRenderScale(renderingQuality === \"low\" ? 1.0 : renderingQuality === \"medium\" ? 1.5 : 2.0);\n    }, [\n        renderingQuality,\n        isBrowser\n    ]);\n    // Cleanup on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            console.log(\"PDFViewer unmounting, cleaning up resources\");\n            // Execute cleanup function\n            cleanupRef.current();\n            // Clean up blob URLs\n            (0,_lib_api_documents__WEBPACK_IMPORTED_MODULE_3__.cleanupBlobUrls)();\n            // Clear memory\n            setUserHighlights([]);\n            setDocumentCitations([]);\n            setPdfUrl(null);\n        };\n    }, []);\n    // Skip rendering until we're in the browser\n    if (!isBrowser) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-full flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_File_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        className: \"h-12 w-12 text-indigo-600 animate-spin mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 302,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-sm text-gray-500\",\n                        children: \"Loading PDF viewer...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 303,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                lineNumber: 301,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n            lineNumber: 300,\n            columnNumber: 7\n        }, this);\n    }\n    if (isLoading || loadingState) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-full flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_File_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        className: \"h-12 w-12 text-indigo-600 animate-spin mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 313,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-sm text-gray-500\",\n                        children: loadingState || \"Loading document...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 314,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                lineNumber: 312,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n            lineNumber: 311,\n            columnNumber: 7\n        }, this);\n    }\n    // Use the error prop if provided, otherwise use the internal error state\n    if (errorState) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-full flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_File_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        className: \"h-12 w-12 text-red-500 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 325,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-sm text-gray-500\",\n                        children: errorState\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 326,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                lineNumber: 324,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n            lineNumber: 323,\n            columnNumber: 7\n        }, this);\n    }\n    if (!document || !pdfUrl) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-full flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_File_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                        className: \"h-12 w-12 text-gray-400 mx-auto\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 336,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"mt-2 text-sm font-medium text-gray-900\",\n                        children: \"No document loaded\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 337,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-1 text-sm text-gray-500\",\n                        children: \"Upload a document to view it here\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 338,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                lineNumber: 335,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n            lineNumber: 334,\n            columnNumber: 7\n        }, this);\n    }\n    // Render highlight element with popup\n    const renderHighlight = (highlight, index, setTip, hideTip, viewportToScaled, screenshot, isScrolledTo)=>{\n        var _highlight_comment, _highlight_comment1;\n        const isTextHighlight = !Boolean(highlight.content && highlight.content.image);\n        // Determine highlight type and color\n        const isAIHighlight = highlight.isAICitation || aiHighlights.some((h)=>h.id === highlight.id);\n        const highlightColor = isAIHighlight ? \"bg-yellow-300\" : \"bg-indigo-300\";\n        const triggerHighlightClick = ()=>handleHighlightClick(highlight);\n        const popupContent = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"\".concat(isAIHighlight ? \"bg-yellow-600\" : \"bg-indigo-600\", \" text-white text-sm p-2 rounded shadow cursor-pointer\"),\n            onClick: triggerHighlightClick,\n            children: isAIHighlight ? \"AI Citation: \" + (((_highlight_comment = highlight.comment) === null || _highlight_comment === void 0 ? void 0 : _highlight_comment.text) || \"Referenced in conversation\") : ((_highlight_comment1 = highlight.comment) === null || _highlight_comment1 === void 0 ? void 0 : _highlight_comment1.text) || \"User Highlight\"\n        }, void 0, false, {\n            fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n            lineNumber: 363,\n            columnNumber: 7\n        }, this);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_pdf_highlighter__WEBPACK_IMPORTED_MODULE_2__.Popup, {\n            popupContent: popupContent,\n            onMouseOver: (popupContent)=>setTip(highlight, ()=>popupContent),\n            onMouseOut: hideTip,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                onClick: triggerHighlightClick,\n                className: \"cursor-pointer\",\n                children: isTextHighlight ? // Using any type to avoid type errors with the Highlight component\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_pdf_highlighter__WEBPACK_IMPORTED_MODULE_2__.Highlight, {\n                    isScrolledTo: isScrolledTo,\n                    position: highlight.position,\n                    comment: highlight.comment\n                }, void 0, false, {\n                    fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                    lineNumber: 383,\n                    columnNumber: 13\n                }, this) : // Using any type to avoid type errors with the AreaHighlight component\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_pdf_highlighter__WEBPACK_IMPORTED_MODULE_2__.AreaHighlight, {\n                    isScrolledTo: isScrolledTo,\n                    highlight: highlight,\n                    onChange: ()=>{}\n                }, void 0, false, {\n                    fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                    lineNumber: 390,\n                    columnNumber: 13\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                lineNumber: 380,\n                columnNumber: 9\n            }, this)\n        }, index, false, {\n            fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n            lineNumber: 374,\n            columnNumber: 7\n        }, this);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-full bg-gray-50 flex flex-col relative\",\n        children: [\n            document && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 border-b border-gray-200\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-lg font-medium text-gray-900\",\n                        children: document.metadata.filename\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 405,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-1 flex flex-col sm:flex-row sm:flex-wrap sm:mt-0 sm:space-x-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 flex items-center text-sm text-gray-500\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_File_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        className: \"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                                        lineNumber: 408,\n                                        columnNumber: 15\n                                    }, this),\n                                    document.metadata.mimeType\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                                lineNumber: 407,\n                                columnNumber: 13\n                            }, this),\n                            document.confidenceScore !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-2 flex items-center text-sm text-gray-500\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"mr-1.5\",\n                                        children: \"Confidence:\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                                        lineNumber: 413,\n                                        columnNumber: 17\n                                    }, this),\n                                    Math.round(document.confidenceScore * 100),\n                                    \"%\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                                lineNumber: 412,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 406,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                lineNumber: 404,\n                columnNumber: 9\n            }, this),\n            pdfUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-auto\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_pdf_highlighter__WEBPACK_IMPORTED_MODULE_2__.PdfLoader, {\n                    url: pdfUrl,\n                    beforeLoad: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4\",\n                        children: \"Loading PDF...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 425,\n                        columnNumber: 25\n                    }, void 0),\n                    onError: (error)=>{\n                        console.error(\"Error loading PDF:\", error);\n                        setErrorState(\"Failed to load PDF. The file might be corrupted or password protected.\");\n                    },\n                    cMapUrl: \"https://unpkg.com/pdfjs-dist@2.16.105/cmaps/\",\n                    cMapPacked: true,\n                    workerSrc: \"https://unpkg.com/pdfjs-dist@2.16.105/build/pdf.worker.min.js\",\n                    children: _s1((pdfDocument)=>{\n                        _s1();\n                        // Create a ref to hold the document instead of calling the function directly\n                        const pdfDocRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(pdfDocument);\n                        // Use useEffect to handle the document loading success\n                        (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n                            if (pdfDocRef.current) {\n                                handleDocumentLoadSuccess(pdfDocRef.current);\n                            }\n                        }, [\n                            handleDocumentLoadSuccess\n                        ]);\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_pdf_highlighter__WEBPACK_IMPORTED_MODULE_2__.PdfHighlighter, {\n                            pdfDocument: pdfDocument,\n                            enableAreaSelection: (event)=>event.altKey,\n                            onScrollChange: onVisiblePagesChanged,\n                            scrollRef: (scrollTo)=>{\n                                scrollViewerRef.current = scrollTo;\n                            },\n                            onSelectionFinished: (position, content, hideTipAndSelection, transformSelection)=>{\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white p-2 border border-gray-300 rounded shadow-md\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-between mb-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: \"Add Highlight\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                                                lineNumber: 462,\n                                                columnNumber: 27\n                                            }, void 0),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"text-indigo-600 hover:text-indigo-800 px-3 py-1 rounded text-sm\",\n                                                onClick: ()=>{\n                                                    const highlightId = \"highlight-\".concat(Date.now());\n                                                    addHighlight({\n                                                        id: highlightId,\n                                                        content,\n                                                        position,\n                                                        comment: {\n                                                            text: \"User highlight\",\n                                                            emoji: \"✍️\"\n                                                        }\n                                                    });\n                                                    hideTipAndSelection();\n                                                },\n                                                children: \"Save\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                                                lineNumber: 463,\n                                                columnNumber: 27\n                                            }, void 0)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                                        lineNumber: 461,\n                                        columnNumber: 25\n                                    }, void 0)\n                                }, void 0, false, {\n                                    fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                                    lineNumber: 460,\n                                    columnNumber: 23\n                                }, void 0);\n                            },\n                            highlights: allHighlights,\n                            highlightTransform: renderHighlight,\n                            pdfScaleValue: renderScale.toString()\n                        }, void 0, false, {\n                            fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                            lineNumber: 446,\n                            columnNumber: 17\n                        }, this);\n                    }, \"EU6W84QpR2WG5t1BVNMNnS85Dz8=\")\n                }, void 0, false, {\n                    fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                    lineNumber: 423,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                lineNumber: 422,\n                columnNumber: 9\n            }, this),\n            totalPages > 50 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute bottom-4 right-4 bg-white rounded-md shadow p-2 text-xs z-10 border border-gray-200\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-1 font-medium\",\n                        children: \"Performance Options\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 498,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"px-2 py-1 rounded \".concat(renderingQuality === \"low\" ? \"bg-indigo-600 text-white\" : \"bg-gray-200\"),\n                                onClick: ()=>setRenderScale(1.0),\n                                children: \"Low\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                                lineNumber: 500,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"px-2 py-1 rounded \".concat(renderingQuality === \"medium\" ? \"bg-indigo-600 text-white\" : \"bg-gray-200\"),\n                                onClick: ()=>setRenderScale(1.5),\n                                children: \"Medium\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                                lineNumber: 506,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"px-2 py-1 rounded \".concat(renderingQuality === \"high\" ? \"bg-indigo-600 text-white\" : \"bg-gray-200\"),\n                                onClick: ()=>setRenderScale(2.0),\n                                children: \"High\"\n                            }, void 0, false, {\n                                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                                lineNumber: 512,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                        lineNumber: 499,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n                lineNumber: 497,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/alexc/Documents/AlexCoding/cfin/nextjs-fdas/src/components/document/PDFViewer.tsx\",\n        lineNumber: 402,\n        columnNumber: 5\n    }, this);\n}\n_s(PDFViewer, \"IRqga3T4e2n4i3/AlRkjR1a6bec=\");\n_c = PDFViewer;\nvar _c;\n$RefreshReg$(_c, \"PDFViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2RvY3VtZW50L1BERlZpZXdlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBRXdFO0FBQ2Q7QUFVM0I7QUFDcUM7QUFDK0I7QUF1QjVGLFNBQVNpQixVQUFVLEtBWVQ7UUFaUyxFQUN4QkMsUUFBUSxFQUNSQyxTQUFTLEVBQ1RDLEtBQUssRUFDTEMsZ0JBQWdCLEVBQ2hCQyxlQUFlLEVBQ2ZDLGVBQWUsRUFBRSxFQUNqQkMsaUJBQWlCLEVBQ2pCQyxRQUFRQyxXQUFXLEVBQ25CQyxXQUFXLEVBQ1hDLG1CQUFtQixRQUFRLEVBQzNCQyxpQkFBaUIsQ0FBQyxFQUNILEdBWlM7OztJQWF4QixNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQytCLGdCQUFnQkMsa0JBQWtCLEdBQUdoQywrQ0FBUUEsQ0FBZSxFQUFFO0lBQ3JFLE1BQU0sQ0FBQ3dCLFFBQVFTLFVBQVUsR0FBR2pDLCtDQUFRQSxDQUFnQnlCLGVBQWU7SUFDbkUsTUFBTSxDQUFDUyxZQUFZQyxjQUFjLEdBQUduQywrQ0FBUUEsQ0FBZ0JtQixTQUFTO0lBQ3JFLE1BQU0sQ0FBQ2lCLGNBQWNDLGdCQUFnQixHQUFHckMsK0NBQVFBLENBQWdCO0lBQ2hFLE1BQU0sQ0FBQ3NDLG1CQUFtQkMscUJBQXFCLEdBQUd2QywrQ0FBUUEsQ0FBYSxFQUFFO0lBQ3pFLE1BQU0sQ0FBQ3dDLFlBQVlDLGNBQWMsR0FBR3pDLCtDQUFRQSxDQUFTO0lBQ3JELE1BQU0sQ0FBQzBDLGNBQWNDLGdCQUFnQixHQUFHM0MsK0NBQVFBLENBQVcsRUFBRTtJQUM3RCxNQUFNLENBQUM0QyxhQUFhQyxlQUFlLEdBQUc3QywrQ0FBUUEsQ0FBYyxJQUFJOEM7SUFDaEUsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdoRCwrQ0FBUUEsQ0FDNUMyQixxQkFBcUIsUUFBUSxNQUM3QkEscUJBQXFCLFdBQVcsTUFB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WHRCLElBQUl2RDt3REFDSnNHO3dEQUNBOUM7d0RBQ0FPLFNBQVM7NERBQ1BDLE1BQU07NERBQ05DLE9BQU87d0RBQ1Q7b0RBQ0Y7b0RBQ0FxRTtnREFDRjswREFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7NEJBTVQ7NEJBQ0FLLFlBQVk5Rzs0QkFDWitHLG9CQUFvQi9DOzRCQUNwQmdELGVBQWV4SCxZQUFZeUgsUUFBUTs7Ozs7O29CQUd6Qzs7Ozs7Ozs7Ozs7WUFNTGhJLGFBQWEsb0JBQ1osOERBQUMyRTtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUFtQjs7Ozs7O2tDQUNsQyw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDOEM7Z0NBQ0M5QyxXQUFXLHFCQUE2RixPQUF4RXpGLHFCQUFxQixRQUFRLDZCQUE2QjtnQ0FDMUY2RyxTQUFTLElBQU14RixlQUFlOzBDQUMvQjs7Ozs7OzBDQUdELDhEQUFDa0g7Z0NBQ0M5QyxXQUFXLHFCQUFnRyxPQUEzRXpGLHFCQUFxQixXQUFXLDZCQUE2QjtnQ0FDN0Y2RyxTQUFTLElBQU14RixlQUFlOzBDQUMvQjs7Ozs7OzBDQUdELDhEQUFDa0g7Z0NBQ0M5QyxXQUFXLHFCQUE4RixPQUF6RXpGLHFCQUFxQixTQUFTLDZCQUE2QjtnQ0FDM0Y2RyxTQUFTLElBQU14RixlQUFlOzBDQUMvQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUWI7R0FwZWdCaEM7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvZG9jdW1lbnQvUERGVmlld2VyLnRzeD9hNjAxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGaWxlLCBMb2FkZXIyLCBBbGVydENpcmNsZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBQcm9jZXNzZWREb2N1bWVudCwgQ2l0YXRpb24gfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7XG4gIFBkZkxvYWRlcixcbiAgUGRmSGlnaGxpZ2h0ZXIsXG4gIEhpZ2hsaWdodCxcbiAgUG9wdXAsXG4gIEFyZWFIaWdobGlnaHQsXG4gIElIaWdobGlnaHQsXG4gIExUV0hQIFxufSBmcm9tIFwicmVhY3QtcGRmLWhpZ2hsaWdodGVyXCI7XG5pbXBvcnQgeyBkb2N1bWVudHNBcGksIGNsZWFudXBCbG9iVXJscyB9IGZyb20gJ0AvbGliL2FwaS9kb2N1bWVudHMnO1xuaW1wb3J0IHsgY29udmVydENpdGF0aW9uVG9IaWdobGlnaHQsIGNvbnZlcnRIaWdobGlnaHRUb0NpdGF0aW9uIH0gZnJvbSAnQC9saWIvcGRmL2NpdGF0aW9uU2VydmljZSc7XG5cbi8vIEFkZCBQREYuanMgdHlwZSBkZWNsYXJhdGlvblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBwZGZqc0xpYj86IGFueTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgUERGVmlld2VyUHJvcHMge1xuICBkb2N1bWVudD86IFByb2Nlc3NlZERvY3VtZW50O1xuICBpc0xvYWRpbmc/OiBib29sZWFuO1xuICBlcnJvcj86IHN0cmluZztcbiAgb25DaXRhdGlvbkNyZWF0ZT86IChjaXRhdGlvbjogT21pdDxDaXRhdGlvbiwgJ2lkJz4pID0+IHZvaWQ7XG4gIG9uQ2l0YXRpb25DbGljaz86IChjaXRhdGlvbjogQ2l0YXRpb24gfCBJSGlnaGxpZ2h0KSA9PiB2b2lkO1xuICBhaUhpZ2hsaWdodHM/OiBJSGlnaGxpZ2h0W107XG4gIG9uQ2l0YXRpb25zTG9hZGVkPzogKGNpdGF0aW9uczogSUhpZ2hsaWdodFtdKSA9PiB2b2lkO1xuICBwZGZVcmw/OiBzdHJpbmc7XG4gIGhpZ2hsaWdodElkPzogc3RyaW5nOyAvLyBJRCBvZiBhIGhpZ2hsaWdodCB0byBzY3JvbGwgdG9cbiAgcmVuZGVyaW5nUXVhbGl0eT86ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCc7IC8vIENvbnRyb2wgcmVuZGVyaW5nIHF1YWxpdHkgZm9yIHBlcmZvcm1hbmNlXG4gIHBhZ2VCdWZmZXJTaXplPzogbnVtYmVyOyAvLyBOdW1iZXIgb2YgcGFnZXMgdG8ga2VlcCBpbiBtZW1vcnlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBERlZpZXdlcih7IFxuICBkb2N1bWVudCwgXG4gIGlzTG9hZGluZywgXG4gIGVycm9yLCBcbiAgb25DaXRhdGlvbkNyZWF0ZSwgXG4gIG9uQ2l0YXRpb25DbGljayxcbiAgYWlIaWdobGlnaHRzID0gW10sIFxuICBvbkNpdGF0aW9uc0xvYWRlZCxcbiAgcGRmVXJsOiBwcm9wc1BkZlVybCxcbiAgaGlnaGxpZ2h0SWQsXG4gIHJlbmRlcmluZ1F1YWxpdHkgPSAnbWVkaXVtJyxcbiAgcGFnZUJ1ZmZlclNpemUgPSA1XG59OiBQREZWaWV3ZXJQcm9wcykge1xuICBjb25zdCBbY3VycmVudFBhZ2UsIHNldEN1cnJlbnRQYWdlXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbdXNlckhpZ2hsaWdodHMsIHNldFVzZXJIaWdobGlnaHRzXSA9IHVzZVN0YXRlPElIaWdobGlnaHRbXT4oW10pO1xuICBjb25zdCBbcGRmVXJsLCBzZXRQZGZVcmxdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4ocHJvcHNQZGZVcmwgfHwgbnVsbCk7XG4gIGNvbnN0IFtlcnJvclN0YXRlLCBzZXRFcnJvclN0YXRlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KGVycm9yIHx8IG51bGwpO1xuICBjb25zdCBbbG9hZGluZ1N0YXRlLCBzZXRMb2FkaW5nU3RhdGVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtkb2N1bWVudENpdGF0aW9ucywgc2V0RG9jdW1lbnRDaXRhdGlvbnNdID0gdXNlU3RhdGU8Q2l0YXRpb25bXT4oW10pO1xuICBjb25zdCBbdG90YWxQYWdlcywgc2V0VG90YWxQYWdlc10gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbdmlzaWJsZVBhZ2VzLCBzZXRWaXNpYmxlUGFnZXNdID0gdXNlU3RhdGU8bnVtYmVyW10+KFtdKTtcbiAgY29uc3QgW2xvYWRlZFBhZ2VzLCBzZXRMb2FkZWRQYWdlc10gPSB1c2VTdGF0ZTxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKTtcbiAgY29uc3QgW3JlbmRlclNjYWxlLCBzZXRSZW5kZXJTY2FsZV0gPSB1c2VTdGF0ZTxudW1iZXI+KFxuICAgIHJlbmRlcmluZ1F1YWxpdHkgPT09ICdsb3cnID8gMS4wIDogXG4gICAgcmVuZGVyaW5nUXVhbGl0eSA9PT0gJ21lZGl1bScgPyAxLjUgOiAyLjBcbiAgKTtcbiAgY29uc3QgW2lzQnJvd3Nlciwgc2V0SXNCcm93c2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIGNvbnN0IHNjcm9sbFZpZXdlclJlZiA9IHVzZVJlZjwoKGhpZ2hsaWdodDogSUhpZ2hsaWdodCkgPT4gdm9pZCkgfCBudWxsPihudWxsKTtcbiAgY29uc3QgY2xlYW51cFJlZiA9IHVzZVJlZjwoKSA9PiB2b2lkPigoKSA9PiB7fSk7XG4gIFxuICAvLyBDb252ZXJ0IGNpdGF0aW9ucyB0byBoaWdobGlnaHRzIGZvcm1hdFxuICBjb25zdCBjaXRhdGlvbkhpZ2hsaWdodHMgPSBkb2N1bWVudENpdGF0aW9ucy5tYXAoY29udmVydENpdGF0aW9uVG9IaWdobGlnaHQpO1xuICBcbiAgLy8gQ29tYmluZSBBSS1nZW5lcmF0ZWQgaGlnaGxpZ2h0cyB3aXRoIHVzZXIgaGlnaGxpZ2h0cyBhbmQgY2l0YXRpb24gaGlnaGxpZ2h0c1xuICBjb25zdCBhbGxIaWdobGlnaHRzID0gWy4uLnVzZXJIaWdobGlnaHRzLCAuLi5haUhpZ2hsaWdodHMsIC4uLmNpdGF0aW9uSGlnaGxpZ2h0c107XG4gIFxuICAvLyBNZW1vcnkgbWFuYWdlbWVudDogUGFnZSB2aXNpYmlsaXR5IHRyYWNraW5nXG4gIGNvbnN0IG9uVmlzaWJsZVBhZ2VzQ2hhbmdlZCA9IHVzZUNhbGxiYWNrKChwYWdlczogbnVtYmVyW10pID0+IHtcbiAgICBzZXRWaXNpYmxlUGFnZXMocGFnZXMpO1xuICAgIFxuICAgIC8vIE9ubHkga2VlcCBhIGJ1ZmZlciBvZiBwYWdlcyBpbiBtZW1vcnlcbiAgICBjb25zdCBwYWdlc1RvS2VlcCA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgIFxuICAgIC8vIEFkZCBjdXJyZW50bHkgdmlzaWJsZSBwYWdlc1xuICAgIHBhZ2VzLmZvckVhY2gocGFnZSA9PiBwYWdlc1RvS2VlcC5hZGQocGFnZSkpO1xuICAgIFxuICAgIC8vIEFkZCBidWZmZXIgcGFnZXMgKGJlZm9yZSBhbmQgYWZ0ZXIgdmlzaWJsZSBwYWdlcylcbiAgICBjb25zdCBoYWxmQnVmZmVyID0gTWF0aC5mbG9vcihwYWdlQnVmZmVyU2l6ZSAvIDIpO1xuICAgIHBhZ2VzLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBoYWxmQnVmZmVyOyBpKyspIHtcbiAgICAgICAgaWYgKHBhZ2UgLSBpID4gMCkgcGFnZXNUb0tlZXAuYWRkKHBhZ2UgLSBpKTtcbiAgICAgICAgaWYgKHBhZ2UgKyBpIDw9IHRvdGFsUGFnZXMpIHBhZ2VzVG9LZWVwLmFkZChwYWdlICsgaSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGxvYWRlZCBwYWdlcyBzdGF0ZVxuICAgIHNldExvYWRlZFBhZ2VzKHBhZ2VzVG9LZWVwKTtcbiAgICBcbiAgfSwgW3BhZ2VCdWZmZXJTaXplLCB0b3RhbFBhZ2VzXSk7XG4gIFxuICAvLyBIYW5kbGUgUERGIGRvY3VtZW50IGxvYWRpbmcgY29tcGxldGlvblxuICBjb25zdCBoYW5kbGVEb2N1bWVudExvYWRTdWNjZXNzID0gdXNlQ2FsbGJhY2soKHBkZkRvY3VtZW50OiBhbnkpID0+IHtcbiAgICBzZXRUb3RhbFBhZ2VzKHBkZkRvY3VtZW50Lm51bVBhZ2VzKTtcbiAgICBcbiAgICAvLyBTdG9yZSBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgY2xlYW51cFJlZi5jdXJyZW50ID0gKCkgPT4ge1xuICAgICAgLy8gQXR0ZW1wdCB0byBjbGVhbiB1cCBQREYuanMgd29ya2VyXG4gICAgICBpZiAocGRmRG9jdW1lbnQgJiYgdHlwZW9mIHBkZkRvY3VtZW50LmNsZWFudXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcGRmRG9jdW1lbnQuY2xlYW51cCgpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDbGVhciBwYWdlIGNhY2hlcyBhbmQgZGVzdHJveSBkb2N1bWVudFxuICAgICAgaWYgKHBkZkRvY3VtZW50ICYmIHR5cGVvZiBwZGZEb2N1bWVudC5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBkZkRvY3VtZW50LmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWRkaXRpb25hbCBjbGVhbnVwIGZvciBhbnkgV2ViV29ya2Vyc1xuICAgICAgaWYgKHdpbmRvdy5wZGZqc0xpYiAmJiB3aW5kb3cucGRmanNMaWIuR2xvYmFsV29ya2VyT3B0aW9ucykge1xuICAgICAgICAvLyBGb3JjZSBnYXJiYWdlIGNvbGxlY3Rpb24gb24gd29ya2Vyc1xuICAgICAgICBjb25zb2xlLmxvZygnUERGLmpzIHdvcmtlcnMgc2NoZWR1bGVkIGZvciBjbGVhbnVwJyk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuICBcbiAgLy8gRGVmaW5lIHNjcm9sbFRvSGlnaGxpZ2h0IGNhbGxiYWNrIC0gSU1QT1JUQU5UOiBtdXN0IGJlIGRlZmluZWQgYmVmb3JlIHVzZUVmZmVjdCB0aGF0IHVzZXMgaXRcbiAgY29uc3Qgc2Nyb2xsVG9IaWdobGlnaHQgPSB1c2VDYWxsYmFjaygoaGlnaGxpZ2h0SWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGhpZ2hsaWdodCA9IGFsbEhpZ2hsaWdodHMuZmluZChoID0+IGguaWQgPT09IGhpZ2hsaWdodElkKTtcbiAgICBpZiAoaGlnaGxpZ2h0ICYmIHNjcm9sbFZpZXdlclJlZi5jdXJyZW50KSB7XG4gICAgICAvLyBTZXQgY3VycmVudCBwYWdlIHRvIHRoZSBoaWdobGlnaHQncyBwYWdlXG4gICAgICBzZXRDdXJyZW50UGFnZShoaWdobGlnaHQucG9zaXRpb24ucGFnZU51bWJlcik7XG4gICAgICBcbiAgICAgIC8vIEFkZCBhIHZpc3VhbCBpbmRpY2F0b3IgYnkgYWRkaW5nIGEgdGVtcG9yYXJ5IFwiZm9jdXNcIiBoaWdobGlnaHRcbiAgICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSB1c2VySGlnaGxpZ2h0cy5maW5kSW5kZXgoaCA9PiBoLmlkID09PSBoaWdobGlnaHRJZCArICctZm9jdXMnKTtcbiAgICAgIGlmIChleGlzdGluZ0luZGV4ID49IDApIHtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBwcmV2aW91cyBmb2N1cyBoaWdobGlnaHRcbiAgICAgICAgY29uc3QgdXBkYXRlZEhpZ2hsaWdodHMgPSBbLi4udXNlckhpZ2hsaWdodHNdO1xuICAgICAgICB1cGRhdGVkSGlnaGxpZ2h0cy5zcGxpY2UoZXhpc3RpbmdJbmRleCwgMSk7XG4gICAgICAgIHNldFVzZXJIaWdobGlnaHRzKHVwZGF0ZWRIaWdobGlnaHRzKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWRkIGEgbmV3IGZvY3VzIGhpZ2hsaWdodCAobGFyZ2VyIHRoYW4gdGhlIG9yaWdpbmFsIGhpZ2hsaWdodClcbiAgICAgIGNvbnN0IGZvY3VzSGlnaGxpZ2h0ID0ge1xuICAgICAgICAuLi5oaWdobGlnaHQsXG4gICAgICAgIGlkOiBoaWdobGlnaHRJZCArICctZm9jdXMnLFxuICAgICAgICBjb21tZW50OiB7XG4gICAgICAgICAgdGV4dDogXCJGb2N1cyBoaWdobGlnaHRcIixcbiAgICAgICAgICBlbW9qaTogXCLwn5SNXCJcbiAgICAgICAgfSxcbiAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAuLi5oaWdobGlnaHQucG9zaXRpb24sXG4gICAgICAgICAgcmVjdHM6IGhpZ2hsaWdodC5wb3NpdGlvbi5yZWN0cy5tYXAocmVjdCA9PiAoe1xuICAgICAgICAgICAgLi4ucmVjdCxcbiAgICAgICAgICAgIHgxOiByZWN0LngxIC0gNSxcbiAgICAgICAgICAgIHkxOiByZWN0LnkxIC0gNSxcbiAgICAgICAgICAgIHgyOiByZWN0LngyICsgNSxcbiAgICAgICAgICAgIHkyOiByZWN0LnkyICsgNSxcbiAgICAgICAgICAgIHdpZHRoOiByZWN0LndpZHRoICsgMTAsXG4gICAgICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0ICsgMTBcbiAgICAgICAgICB9KSlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgc2V0VXNlckhpZ2hsaWdodHMocHJldiA9PiBbLi4ucHJldiwgZm9jdXNIaWdobGlnaHRdKTtcbiAgICAgIFxuICAgICAgLy8gUmVtb3ZlIHRoZSBmb2N1cyBoaWdobGlnaHQgYWZ0ZXIgYSBmZXcgc2Vjb25kc1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNldFVzZXJIaWdobGlnaHRzKHByZXYgPT4gcHJldi5maWx0ZXIoaCA9PiBoLmlkICE9PSBoaWdobGlnaHRJZCArICctZm9jdXMnKSk7XG4gICAgICB9LCAzMDAwKTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIHNjcm9sbCB0byB0aGUgaGlnaGxpZ2h0IHVzaW5nIFBkZkhpZ2hsaWdodGVyJ3MgbWV0aG9kXG4gICAgICBpZiAoc2Nyb2xsVmlld2VyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgc2Nyb2xsVmlld2VyUmVmLmN1cnJlbnQoaGlnaGxpZ2h0KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSwgW2FsbEhpZ2hsaWdodHMsIHVzZXJIaWdobGlnaHRzXSk7XG4gIFxuICAvLyBIYW5kbGVyIGZvciBhZGRpbmcgaGlnaGxpZ2h0c1xuICBjb25zdCBhZGRIaWdobGlnaHQgPSB1c2VDYWxsYmFjaygoaGlnaGxpZ2h0OiBJSGlnaGxpZ2h0KSA9PiB7XG4gICAgc2V0VXNlckhpZ2hsaWdodHMocHJldiA9PiBbLi4ucHJldiwgaGlnaGxpZ2h0XSk7XG4gICAgXG4gICAgLy8gSWYgb25DaXRhdGlvbkNyZWF0ZSBjYWxsYmFjayBleGlzdHMsIGNyZWF0ZSBhIGNpdGF0aW9uIG9iamVjdFxuICAgIGlmIChvbkNpdGF0aW9uQ3JlYXRlICYmIGRvY3VtZW50KSB7XG4gICAgICBjb25zdCBjaXRhdGlvbiA9IGNvbnZlcnRIaWdobGlnaHRUb0NpdGF0aW9uKGhpZ2hsaWdodCwgZG9jdW1lbnQubWV0YWRhdGEuaWQpO1xuICAgICAgb25DaXRhdGlvbkNyZWF0ZShjaXRhdGlvbik7XG4gICAgfVxuICB9LCBbZG9jdW1lbnQsIG9uQ2l0YXRpb25DcmVhdGVdKTtcbiAgXG4gIC8vIEhhbmRsZXIgZm9yIGhpZ2hsaWdodCBjbGlja1xuICBjb25zdCBoYW5kbGVIaWdobGlnaHRDbGljayA9IHVzZUNhbGxiYWNrKChoaWdobGlnaHQ6IElIaWdobGlnaHQpID0+IHtcbiAgICBpZiAob25DaXRhdGlvbkNsaWNrKSB7XG4gICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIGNpdGF0aW9uIGlmIGl0IGV4aXN0c1xuICAgICAgY29uc3QgY2l0YXRpb24gPSBkb2N1bWVudENpdGF0aW9ucy5maW5kKGMgPT4gYy5oaWdobGlnaHRJZCA9PT0gaGlnaGxpZ2h0LmlkKTtcbiAgICAgIGlmIChjaXRhdGlvbikge1xuICAgICAgICBvbkNpdGF0aW9uQ2xpY2soY2l0YXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25DaXRhdGlvbkNsaWNrKGhpZ2hsaWdodCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbZG9jdW1lbnRDaXRhdGlvbnMsIG9uQ2l0YXRpb25DbGlja10pO1xuICBcbiAgLy8gU2V0IGlzQnJvd3NlciB0byB0cnVlIG9uY2UgY29tcG9uZW50IG1vdW50cyAtIGFsd2F5cyBkZWNsYXJlIGhvb2tzIGluIHRoZSBzYW1lIG9yZGVyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNCcm93c2VyKHRydWUpO1xuICB9LCBbXSk7XG4gIFxuICAvLyBHZXQgZG9jdW1lbnQgVVJMIGZyb20gcHJvcHMgb3IgZmV0Y2ggaXQgd2hlbiBkb2N1bWVudCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0Jyb3dzZXIpIHJldHVybjtcbiAgICBcbiAgICBpZiAocHJvcHNQZGZVcmwpIHtcbiAgICAgIHNldFBkZlVybChwcm9wc1BkZlVybCk7XG4gICAgICBzZXRFcnJvclN0YXRlKG51bGwpO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQpIHtcbiAgICAgIGNvbnN0IGZldGNoRG9jdW1lbnRVcmwgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHNldExvYWRpbmdTdGF0ZShcIlJldHJpZXZpbmcgZG9jdW1lbnQgVVJMLi4uXCIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHVybCA9IGF3YWl0IGRvY3VtZW50c0FwaS5nZXREb2N1bWVudFVybChkb2N1bWVudC5tZXRhZGF0YS5pZCk7XG4gICAgICAgICAgc2V0UGRmVXJsKHVybCk7XG4gICAgICAgICAgc2V0RXJyb3JTdGF0ZShudWxsKTtcbiAgICAgICAgICBzZXRMb2FkaW5nU3RhdGUobnVsbCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGRvY3VtZW50IFVSTDpcIiwgZXJyb3IpO1xuICAgICAgICAgIHNldEVycm9yU3RhdGUoXCJGYWlsZWQgdG8gcmV0cmlldmUgZG9jdW1lbnQgVVJMLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiKTtcbiAgICAgICAgICBzZXRMb2FkaW5nU3RhdGUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIGZldGNoRG9jdW1lbnRVcmwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0UGRmVXJsKG51bGwpO1xuICAgIH1cbiAgfSwgW2RvY3VtZW50LCBwcm9wc1BkZlVybCwgaXNCcm93c2VyXSk7XG4gIFxuICAvLyBGZXRjaCBjaXRhdGlvbnMgd2hlbiBkb2N1bWVudCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0Jyb3dzZXIgfHwgIWRvY3VtZW50KSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgZmV0Y2hDaXRhdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nU3RhdGUoXCJMb2FkaW5nIGRvY3VtZW50IGNpdGF0aW9ucy4uLlwiKTtcbiAgICAgICAgY29uc3QgY2l0YXRpb25zID0gYXdhaXQgZG9jdW1lbnRzQXBpLmdldERvY3VtZW50Q2l0YXRpb25zKGRvY3VtZW50Lm1ldGFkYXRhLmlkKTtcbiAgICAgICAgc2V0RG9jdW1lbnRDaXRhdGlvbnMoY2l0YXRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENvbnZlcnQgY2l0YXRpb25zIHRvIGhpZ2hsaWdodHMgYW5kIG5vdGlmeSBwYXJlbnRcbiAgICAgICAgY29uc3QgaGlnaGxpZ2h0c0Zyb21DaXRhdGlvbnMgPSBjaXRhdGlvbnMubWFwKGNvbnZlcnRDaXRhdGlvblRvSGlnaGxpZ2h0KTtcbiAgICAgICAgaWYgKG9uQ2l0YXRpb25zTG9hZGVkKSB7XG4gICAgICAgICAgb25DaXRhdGlvbnNMb2FkZWQoaGlnaGxpZ2h0c0Zyb21DaXRhdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRMb2FkaW5nU3RhdGUobnVsbCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZG9jdW1lbnQgY2l0YXRpb25zOlwiLCBlcnJvcik7XG4gICAgICAgIC8vIERvbid0IHNldCBlcnJvciBzdGF0ZSBoZXJlIGFzIHdlIHN0aWxsIHdhbnQgdG8gc2hvdyB0aGUgZG9jdW1lbnQgZXZlbiBpZiBjaXRhdGlvbnMgZmFpbFxuICAgICAgICBzZXRMb2FkaW5nU3RhdGUobnVsbCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICBmZXRjaENpdGF0aW9ucygpO1xuICB9LCBbZG9jdW1lbnQsIG9uQ2l0YXRpb25zTG9hZGVkLCBpc0Jyb3dzZXJdKTtcbiAgXG4gIC8vIFNjcm9sbCB0byBoaWdobGlnaHQgd2hlbiBoaWdobGlnaHRJZCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0Jyb3dzZXIgfHwgIWhpZ2hsaWdodElkKSByZXR1cm47XG4gICAgXG4gICAgc2Nyb2xsVG9IaWdobGlnaHQoaGlnaGxpZ2h0SWQpO1xuICB9LCBbaGlnaGxpZ2h0SWQsIGlzQnJvd3Nlciwgc2Nyb2xsVG9IaWdobGlnaHRdKTtcbiAgXG4gIC8vIFVwZGF0ZSByZW5kZXIgc2NhbGUgd2hlbiByZW5kZXJpbmdRdWFsaXR5IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzQnJvd3NlcikgcmV0dXJuO1xuICAgIHNldFJlbmRlclNjYWxlKFxuICAgICAgcmVuZGVyaW5nUXVhbGl0eSA9PT0gJ2xvdycgPyAxLjAgOiBcbiAgICAgIHJlbmRlcmluZ1F1YWxpdHkgPT09ICdtZWRpdW0nID8gMS41IDogMi4wXG4gICAgKTtcbiAgfSwgW3JlbmRlcmluZ1F1YWxpdHksIGlzQnJvd3Nlcl0pO1xuICBcbiAgLy8gQ2xlYW51cCBvbiB1bm1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdQREZWaWV3ZXIgdW5tb3VudGluZywgY2xlYW5pbmcgdXAgcmVzb3VyY2VzJyk7XG4gICAgICBcbiAgICAgIC8vIEV4ZWN1dGUgY2xlYW51cCBmdW5jdGlvblxuICAgICAgY2xlYW51cFJlZi5jdXJyZW50KCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFuIHVwIGJsb2IgVVJMc1xuICAgICAgY2xlYW51cEJsb2JVcmxzKCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIG1lbW9yeVxuICAgICAgc2V0VXNlckhpZ2hsaWdodHMoW10pO1xuICAgICAgc2V0RG9jdW1lbnRDaXRhdGlvbnMoW10pO1xuICAgICAgc2V0UGRmVXJsKG51bGwpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgXG4gIC8vIFNraXAgcmVuZGVyaW5nIHVudGlsIHdlJ3JlIGluIHRoZSBicm93c2VyXG4gIGlmICghaXNCcm93c2VyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJoLTEyIHctMTIgdGV4dC1pbmRpZ28tNjAwIGFuaW1hdGUtc3BpbiBteC1hdXRvXCIgLz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC1ncmF5LTUwMFwiPkxvYWRpbmcgUERGIHZpZXdlci4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGlzTG9hZGluZyB8fCBsb2FkaW5nU3RhdGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cImgtMTIgdy0xMiB0ZXh0LWluZGlnby02MDAgYW5pbWF0ZS1zcGluIG14LWF1dG9cIiAvPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+e2xvYWRpbmdTdGF0ZSB8fCBcIkxvYWRpbmcgZG9jdW1lbnQuLi5cIn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFVzZSB0aGUgZXJyb3IgcHJvcCBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIHVzZSB0aGUgaW50ZXJuYWwgZXJyb3Igc3RhdGVcbiAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxBbGVydENpcmNsZSBjbGFzc05hbWU9XCJoLTEyIHctMTIgdGV4dC1yZWQtNTAwIG14LWF1dG9cIiAvPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+e2Vycm9yU3RhdGV9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoIWRvY3VtZW50IHx8ICFwZGZVcmwpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxGaWxlIGNsYXNzTmFtZT1cImgtMTIgdy0xMiB0ZXh0LWdyYXktNDAwIG14LWF1dG9cIiAvPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMFwiPk5vIGRvY3VtZW50IGxvYWRlZDwvaDM+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5VcGxvYWQgYSBkb2N1bWVudCB0byB2aWV3IGl0IGhlcmU8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFJlbmRlciBoaWdobGlnaHQgZWxlbWVudCB3aXRoIHBvcHVwXG4gIGNvbnN0IHJlbmRlckhpZ2hsaWdodCA9IChcbiAgICBoaWdobGlnaHQ6IElIaWdobGlnaHQsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBzZXRUaXA6IChoaWdobGlnaHQ6IElIaWdobGlnaHQsIGNhbGxiYWNrOiAoKSA9PiBKU1guRWxlbWVudCkgPT4gdm9pZCxcbiAgICBoaWRlVGlwOiAoKSA9PiB2b2lkLFxuICAgIHZpZXdwb3J0VG9TY2FsZWQ6IChyZWN0OiBMVFdIUCkgPT4gYW55LFxuICAgIHNjcmVlbnNob3Q6IChwb3NpdGlvbjogYW55KSA9PiBzdHJpbmcsXG4gICAgaXNTY3JvbGxlZFRvOiBib29sZWFuXG4gICkgPT4ge1xuICAgIGNvbnN0IGlzVGV4dEhpZ2hsaWdodCA9ICFCb29sZWFuKGhpZ2hsaWdodC5jb250ZW50ICYmIGhpZ2hsaWdodC5jb250ZW50LmltYWdlKTtcbiAgICBcbiAgICAvLyBEZXRlcm1pbmUgaGlnaGxpZ2h0IHR5cGUgYW5kIGNvbG9yXG4gICAgY29uc3QgaXNBSUhpZ2hsaWdodCA9IGhpZ2hsaWdodC5pc0FJQ2l0YXRpb24gfHwgYWlIaWdobGlnaHRzLnNvbWUoaCA9PiBoLmlkID09PSBoaWdobGlnaHQuaWQpO1xuICAgIGNvbnN0IGhpZ2hsaWdodENvbG9yID0gaXNBSUhpZ2hsaWdodCA/ICdiZy15ZWxsb3ctMzAwJyA6ICdiZy1pbmRpZ28tMzAwJztcbiAgICBcbiAgICBjb25zdCB0cmlnZ2VySGlnaGxpZ2h0Q2xpY2sgPSAoKSA9PiBoYW5kbGVIaWdobGlnaHRDbGljayhoaWdobGlnaHQpO1xuICAgIFxuICAgIGNvbnN0IHBvcHVwQ29udGVudCA9IChcbiAgICAgIDxkaXYgXG4gICAgICAgIGNsYXNzTmFtZT17YCR7aXNBSUhpZ2hsaWdodCA/ICdiZy15ZWxsb3ctNjAwJyA6ICdiZy1pbmRpZ28tNjAwJ30gdGV4dC13aGl0ZSB0ZXh0LXNtIHAtMiByb3VuZGVkIHNoYWRvdyBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICAgIG9uQ2xpY2s9e3RyaWdnZXJIaWdobGlnaHRDbGlja31cbiAgICAgID5cbiAgICAgICAge2lzQUlIaWdobGlnaHQgXG4gICAgICAgICAgPyBcIkFJIENpdGF0aW9uOiBcIiArIChoaWdobGlnaHQuY29tbWVudD8udGV4dCB8fCBcIlJlZmVyZW5jZWQgaW4gY29udmVyc2F0aW9uXCIpIFxuICAgICAgICAgIDogKGhpZ2hsaWdodC5jb21tZW50Py50ZXh0IHx8IFwiVXNlciBIaWdobGlnaHRcIil9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICA8UG9wdXBcbiAgICAgICAgcG9wdXBDb250ZW50PXtwb3B1cENvbnRlbnR9XG4gICAgICAgIG9uTW91c2VPdmVyPXtwb3B1cENvbnRlbnQgPT4gc2V0VGlwKGhpZ2hsaWdodCwgKCkgPT4gcG9wdXBDb250ZW50KX1cbiAgICAgICAgb25Nb3VzZU91dD17aGlkZVRpcH1cbiAgICAgICAga2V5PXtpbmRleH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBvbkNsaWNrPXt0cmlnZ2VySGlnaGxpZ2h0Q2xpY2t9IGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAge2lzVGV4dEhpZ2hsaWdodCA/IChcbiAgICAgICAgICAgIC8vIFVzaW5nIGFueSB0eXBlIHRvIGF2b2lkIHR5cGUgZXJyb3JzIHdpdGggdGhlIEhpZ2hsaWdodCBjb21wb25lbnRcbiAgICAgICAgICAgIDxIaWdobGlnaHQgXG4gICAgICAgICAgICAgIGlzU2Nyb2xsZWRUbz17aXNTY3JvbGxlZFRvfSBcbiAgICAgICAgICAgICAgcG9zaXRpb249e2hpZ2hsaWdodC5wb3NpdGlvbiBhcyBhbnl9XG4gICAgICAgICAgICAgIGNvbW1lbnQ9e2hpZ2hsaWdodC5jb21tZW50fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgLy8gVXNpbmcgYW55IHR5cGUgdG8gYXZvaWQgdHlwZSBlcnJvcnMgd2l0aCB0aGUgQXJlYUhpZ2hsaWdodCBjb21wb25lbnRcbiAgICAgICAgICAgIDxBcmVhSGlnaGxpZ2h0XG4gICAgICAgICAgICAgIGlzU2Nyb2xsZWRUbz17aXNTY3JvbGxlZFRvfVxuICAgICAgICAgICAgICBoaWdobGlnaHQ9e2hpZ2hsaWdodCBhcyBhbnl9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7fX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1BvcHVwPlxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBiZy1ncmF5LTUwIGZsZXggZmxleC1jb2wgcmVsYXRpdmVcIj5cbiAgICAgIHtkb2N1bWVudCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj57ZG9jdW1lbnQubWV0YWRhdGEuZmlsZW5hbWV9PC9oMj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBzbTpmbGV4LXdyYXAgc206bXQtMCBzbTpzcGFjZS14LTZcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgPEZpbGUgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBtci0xLjUgaC01IHctNSB0ZXh0LWdyYXktNDAwXCIgLz5cbiAgICAgICAgICAgICAge2RvY3VtZW50Lm1ldGFkYXRhLm1pbWVUeXBlfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7ZG9jdW1lbnQuY29uZmlkZW5jZVNjb3JlICE9PSB1bmRlZmluZWQgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXItMS41XCI+Q29uZmlkZW5jZTo8L3NwYW4+XG4gICAgICAgICAgICAgICAge01hdGgucm91bmQoZG9jdW1lbnQuY29uZmlkZW5jZVNjb3JlICogMTAwKX0lXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7cGRmVXJsICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3ctYXV0b1wiPlxuICAgICAgICAgIDxQZGZMb2FkZXIgXG4gICAgICAgICAgICB1cmw9e3BkZlVybH0gXG4gICAgICAgICAgICBiZWZvcmVMb2FkPXs8ZGl2IGNsYXNzTmFtZT1cInAtNFwiPkxvYWRpbmcgUERGLi4uPC9kaXY+fVxuICAgICAgICAgICAgb25FcnJvcj17KGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIFBERjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICBzZXRFcnJvclN0YXRlKFwiRmFpbGVkIHRvIGxvYWQgUERGLiBUaGUgZmlsZSBtaWdodCBiZSBjb3JydXB0ZWQgb3IgcGFzc3dvcmQgcHJvdGVjdGVkLlwiKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBjTWFwVXJsPVwiaHR0cHM6Ly91bnBrZy5jb20vcGRmanMtZGlzdEAyLjE2LjEwNS9jbWFwcy9cIlxuICAgICAgICAgICAgY01hcFBhY2tlZD17dHJ1ZX1cbiAgICAgICAgICAgIHdvcmtlclNyYz1cImh0dHBzOi8vdW5wa2cuY29tL3BkZmpzLWRpc3RAMi4xNi4xMDUvYnVpbGQvcGRmLndvcmtlci5taW4uanNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsocGRmRG9jdW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgcmVmIHRvIGhvbGQgdGhlIGRvY3VtZW50IGluc3RlYWQgb2YgY2FsbGluZyB0aGUgZnVuY3Rpb24gZGlyZWN0bHlcbiAgICAgICAgICAgICAgY29uc3QgcGRmRG9jUmVmID0gdXNlUmVmKHBkZkRvY3VtZW50KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFVzZSB1c2VFZmZlY3QgdG8gaGFuZGxlIHRoZSBkb2N1bWVudCBsb2FkaW5nIHN1Y2Nlc3NcbiAgICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGRmRG9jUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZURvY3VtZW50TG9hZFN1Y2Nlc3MocGRmRG9jUmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgW2hhbmRsZURvY3VtZW50TG9hZFN1Y2Nlc3NdKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFBkZkhpZ2hsaWdodGVyXG4gICAgICAgICAgICAgICAgICBwZGZEb2N1bWVudD17cGRmRG9jdW1lbnR9XG4gICAgICAgICAgICAgICAgICBlbmFibGVBcmVhU2VsZWN0aW9uPXsoZXZlbnQpID0+IGV2ZW50LmFsdEtleX1cbiAgICAgICAgICAgICAgICAgIG9uU2Nyb2xsQ2hhbmdlPXtvblZpc2libGVQYWdlc0NoYW5nZWQgYXMgYW55fVxuICAgICAgICAgICAgICAgICAgc2Nyb2xsUmVmPXsoc2Nyb2xsVG86IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxWaWV3ZXJSZWYuY3VycmVudCA9IHNjcm9sbFRvO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uRmluaXNoZWQ9eyhcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIGhpZGVUaXBBbmRTZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybVNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHNoYWRvdy1tZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+QWRkIEhpZ2hsaWdodDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtaW5kaWdvLTYwMCBob3Zlcjp0ZXh0LWluZGlnby04MDAgcHgtMyBweS0xIHJvdW5kZWQgdGV4dC1zbVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hsaWdodElkID0gYGhpZ2hsaWdodC0ke0RhdGUubm93KCl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEhpZ2hsaWdodCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBoaWdobGlnaHRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIlVzZXIgaGlnaGxpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1vamk6IFwi4pyN77iPXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVUaXBBbmRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2F2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodHM9e2FsbEhpZ2hsaWdodHN9XG4gICAgICAgICAgICAgICAgICBoaWdobGlnaHRUcmFuc2Zvcm09e3JlbmRlckhpZ2hsaWdodCBhcyBhbnl9XG4gICAgICAgICAgICAgICAgICBwZGZTY2FsZVZhbHVlPXtyZW5kZXJTY2FsZS50b1N0cmluZygpfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIDwvUGRmTG9hZGVyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiBQZXJmb3JtYW5jZSBjb250cm9scyBmb3IgbGFyZ2UgUERGcyAqL31cbiAgICAgIHt0b3RhbFBhZ2VzID4gNTAgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS00IHJpZ2h0LTQgYmctd2hpdGUgcm91bmRlZC1tZCBzaGFkb3cgcC0yIHRleHQteHMgei0xMCBib3JkZXIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0xIGZvbnQtbWVkaXVtXCI+UGVyZm9ybWFuY2UgT3B0aW9uczwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTIgcHktMSByb3VuZGVkICR7cmVuZGVyaW5nUXVhbGl0eSA9PT0gJ2xvdycgPyAnYmctaW5kaWdvLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTIwMCd9YH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0UmVuZGVyU2NhbGUoMS4wKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgTG93XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTIgcHktMSByb3VuZGVkICR7cmVuZGVyaW5nUXVhbGl0eSA9PT0gJ21lZGl1bScgPyAnYmctaW5kaWdvLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTIwMCd9YH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0UmVuZGVyU2NhbGUoMS41KX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgTWVkaXVtXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTIgcHktMSByb3VuZGVkICR7cmVuZGVyaW5nUXVhbGl0eSA9PT0gJ2hpZ2gnID8gJ2JnLWluZGlnby02MDAgdGV4dC13aGl0ZScgOiAnYmctZ3JheS0yMDAnfWB9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFJlbmRlclNjYWxlKDIuMCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIEhpZ2hcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkZpbGUiLCJMb2FkZXIyIiwiQWxlcnRDaXJjbGUiLCJQZGZMb2FkZXIiLCJQZGZIaWdobGlnaHRlciIsIkhpZ2hsaWdodCIsIlBvcHVwIiwiQXJlYUhpZ2hsaWdodCIsImRvY3VtZW50c0FwaSIsImNsZWFudXBCbG9iVXJscyIsImNvbnZlcnRDaXRhdGlvblRvSGlnaGxpZ2h0IiwiY29udmVydEhpZ2hsaWdodFRvQ2l0YXRpb24iLCJQREZWaWV3ZXIiLCJkb2N1bWVudCIsImlzTG9hZGluZyIsImVycm9yIiwib25DaXRhdGlvbkNyZWF0ZSIsIm9uQ2l0YXRpb25DbGljayIsImFpSGlnaGxpZ2h0cyIsIm9uQ2l0YXRpb25zTG9hZGVkIiwicGRmVXJsIiwicHJvcHNQZGZVcmwiLCJoaWdobGlnaHRJZCIsInJlbmRlcmluZ1F1YWxpdHkiLCJwYWdlQnVmZmVyU2l6ZSIsImN1cnJlbnRQYWdlIiwic2V0Q3VycmVudFBhZ2UiLCJ1c2VySGlnaGxpZ2h0cyIsInNldFVzZXJIaWdobGlnaHRzIiwic2V0UGRmVXJsIiwiZXJyb3JTdGF0ZSIsInNldEVycm9yU3RhdGUiLCJsb2FkaW5nU3RhdGUiLCJzZXRMb2FkaW5nU3RhdGUiLCJkb2N1bWVudENpdGF0aW9ucyIsInNldERvY3VtZW50Q2l0YXRpb25zIiwidG90YWxQYWdlcyIsInNldFRvdGFsUGFnZXMiLCJ2aXNpYmxlUGFnZXMiLCJzZXRWaXNpYmxlUGFnZXMiLCJsb2FkZWRQYWdlcyIsInNldExvYWRlZFBhZ2VzIiwiU2V0IiwicmVuZGVyU2NhbGUiLCJzZXRSZW5kZXJTY2FsZSIsImlzQnJvd3NlciIsInNldElzQnJvd3NlciIsInNjcm9sbFZpZXdlclJlZiIsImNsZWFudXBSZWYiLCJjaXRhdGlvbkhpZ2hsaWdodHMiLCJtYXAiLCJhbGxIaWdobGlnaHRzIiwib25WaXNpYmxlUGFnZXNDaGFuZ2VkIiwicGFnZXMiLCJwYWdlc1RvS2VlcCIsImZvckVhY2giLCJwYWdlIiwiYWRkIiwiaGFsZkJ1ZmZlciIsIk1hdGgiLCJmbG9vciIsImkiLCJoYW5kbGVEb2N1bWVudExvYWRTdWNjZXNzIiwicGRmRG9jdW1lbnQiLCJudW1QYWdlcyIsImN1cnJlbnQiLCJjbGVhbnVwIiwiZGVzdHJveSIsIndpbmRvdyIsInBkZmpzTGliIiwiR2xvYmFsV29ya2VyT3B0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJzY3JvbGxUb0hpZ2hsaWdodCIsImhpZ2hsaWdodCIsImZpbmQiLCJoIiwiaWQiLCJwb3NpdGlvbiIsInBhZ2VOdW1iZXIiLCJleGlzdGluZ0luZGV4IiwiZmluZEluZGV4IiwidXBkYXRlZEhpZ2hsaWdodHMiLCJzcGxpY2UiLCJmb2N1c0hpZ2hsaWdodCIsImNvbW1lbnQiLCJ0ZXh0IiwiZW1vamkiLCJyZWN0cyIsInJlY3QiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIndpZHRoIiwiaGVpZ2h0IiwicHJldiIsInNldFRpbWVvdXQiLCJmaWx0ZXIiLCJhZGRIaWdobGlnaHQiLCJjaXRhdGlvbiIsIm1ldGFkYXRhIiwiaGFuZGxlSGlnaGxpZ2h0Q2xpY2siLCJjIiwiZmV0Y2hEb2N1bWVudFVybCIsInVybCIsImdldERvY3VtZW50VXJsIiwiZmV0Y2hDaXRhdGlvbnMiLCJjaXRhdGlvbnMiLCJnZXREb2N1bWVudENpdGF0aW9ucyIsImhpZ2hsaWdodHNGcm9tQ2l0YXRpb25zIiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsImgzIiwicmVuZGVySGlnaGxpZ2h0IiwiaW5kZXgiLCJzZXRUaXAiLCJoaWRlVGlwIiwidmlld3BvcnRUb1NjYWxlZCIsInNjcmVlbnNob3QiLCJpc1Njcm9sbGVkVG8iLCJpc1RleHRIaWdobGlnaHQiLCJCb29sZWFuIiwiY29udGVudCIsImltYWdlIiwiaXNBSUhpZ2hsaWdodCIsImlzQUlDaXRhdGlvbiIsInNvbWUiLCJoaWdobGlnaHRDb2xvciIsInRyaWdnZXJIaWdobGlnaHRDbGljayIsInBvcHVwQ29udGVudCIsIm9uQ2xpY2siLCJvbk1vdXNlT3ZlciIsIm9uTW91c2VPdXQiLCJvbkNoYW5nZSIsImgyIiwiZmlsZW5hbWUiLCJtaW1lVHlwZSIsImNvbmZpZGVuY2VTY29yZSIsInVuZGVmaW5lZCIsInNwYW4iLCJyb3VuZCIsImJlZm9yZUxvYWQiLCJvbkVycm9yIiwiY01hcFVybCIsImNNYXBQYWNrZWQiLCJ3b3JrZXJTcmMiLCJwZGZEb2NSZWYiLCJlbmFibGVBcmVhU2VsZWN0aW9uIiwiZXZlbnQiLCJhbHRLZXkiLCJvblNjcm9sbENoYW5nZSIsInNjcm9sbFJlZiIsInNjcm9sbFRvIiwib25TZWxlY3Rpb25GaW5pc2hlZCIsImhpZGVUaXBBbmRTZWxlY3Rpb24iLCJ0cmFuc2Zvcm1TZWxlY3Rpb24iLCJidXR0b24iLCJEYXRlIiwibm93IiwiaGlnaGxpZ2h0cyIsImhpZ2hsaWdodFRyYW5zZm9ybSIsInBkZlNjYWxlVmFsdWUiLCJ0b1N0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/document/PDFViewer.tsx\n"));

/***/ })

});